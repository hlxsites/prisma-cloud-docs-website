import { loadCSS } from '../../scripts/lib-franklin.js';
import { html, renderParallax } from '../../scripts/scripts.js';
import '../search-bar/search-bar.js';

/**
 * @param {HTMLDivElement} block
 */
export default function decorate(block) {
  loadCSS(`${window.hlx.codeBasePath}/blocks/search-bar/search-bar.css`);
  block.append(html`
    <div>
      <div class="search-bar-container">
        <search-bar
          data-default-option="@td_docsetid==('50f6a03f40793d69545a4286255f64d3')"
          data-default-options='[{"label": "Enterprise Edition", "category": "@td_docsetid", "value": "50f6a03f40793d69545a4286255f64d3"}, {"label": "Compute Edition", "category": "@td_docsetid", "value": "662a784654b1f7313d35c5af7501870c"}]'
        >
        </search-bar>
      </div>
    </div>
  `);

  const ICON = `
  <svg class="icon-cloud-logo" width="120" height="31" viewBox="0 0 120 31" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Cloud Logo 2" clip-path="url(#clip0_18_346)">
<path id="Vector" d="M35.419 20.4926C37.653 20.4926 39.3594 19.7498 40.2214 19.0955V16.3368H40.2038C38.9196 17.3094 37.53 18.0168 35.6125 18.0168C32.8859 18.0168 31.5138 16.2838 31.5138 14.0733C31.5138 11.7566 32.9915 10.0236 35.6301 10.0236C37.5827 10.0236 38.8845 10.8901 40.2038 11.7743H40.2214V9.01562C39.3242 8.30826 37.7058 7.54785 35.6829 7.54785C31.074 7.54785 28.7344 10.6602 28.7344 14.0909C28.7344 17.4509 30.687 20.4926 35.419 20.4926Z" fill="#333333"/>
<path id="Vector_2" d="M48.4609 20.2089H58.1009L58.1888 17.6978H51.1699V7.83008H48.4609V20.2089Z" fill="#333333"/>
<path id="Vector_3" d="M71.5382 20.4926C75.6897 20.4926 78.3107 17.9461 78.3107 14.0202C78.3107 10.0943 75.6897 7.54785 71.5382 7.54785C67.3867 7.54785 64.7656 10.0943 64.7656 14.0202C64.7656 17.9461 67.3867 20.4926 71.5382 20.4926ZM71.5206 18.0345C68.9699 18.0345 67.5449 16.5137 67.5449 14.0202C67.5449 11.5268 69.005 10.0059 71.5557 10.0059C74.1064 10.0059 75.5314 11.5268 75.5314 14.0202C75.5314 16.5137 74.0713 18.0345 71.5206 18.0345Z" fill="#333333"/>
<path id="Vector_4" d="M92.2329 20.4918C95.54 20.4918 98.161 19.1302 98.161 15.3458V7.83008H95.452V15.3988C95.452 17.3618 93.9216 17.9807 92.268 17.9807C90.6145 17.9807 89.0841 17.3264 89.0841 15.3104V7.83008H86.375V15.4342C86.375 19.1125 88.9257 20.4918 92.2329 20.4918Z" fill="#333333"/>
<path id="Vector_5" d="M106.945 20.2089H112.979C116.849 20.2089 119.171 17.8569 119.171 14.0018C119.171 10.129 116.849 7.83011 112.979 7.83011H106.945V20.2089ZM109.654 17.7508V10.2882H112.961C115.143 10.2882 116.392 11.4907 116.392 14.0372C116.392 16.6014 115.143 17.7508 112.961 17.7508H109.654Z" fill="#333333"/>
<path id="Vector_6" d="M28.8984 26.5254H30.9066C31.5664 26.5254 31.9823 26.8483 31.9823 27.477C31.9823 27.9018 31.8389 28.1907 31.4373 28.3437C31.8532 28.5305 32.0397 28.7854 32.0397 29.2443C32.0397 30.0259 31.5377 30.3148 30.8349 30.3148H28.8984V26.5254ZM30.6627 28.0378C30.9209 28.0378 31.0357 27.9358 31.0357 27.698C31.0357 27.477 30.9209 27.375 30.6627 27.375H29.8452V28.0378H30.6627ZM30.7058 29.4482C30.9926 29.4482 31.093 29.3462 31.093 29.0913C31.093 28.8534 30.9782 28.7345 30.7058 28.7345H29.8452V29.4482H30.7058Z" fill="#808080"/>
<path id="Vector_7" d="M34.3067 29.0913L32.668 26.5254H33.9388L34.8585 28.0378H34.9087L35.8451 26.5254H37.0658L35.4271 29.0913V30.3148H34.3067V29.0913Z" fill="#808080"/>
<path id="Vector_8" d="M40.207 26.5254H42.5107C43.4705 26.5254 43.9765 27.0692 43.9765 27.9358C43.9765 28.9214 43.331 29.3802 42.4234 29.3802H41.3763V30.3148H40.207V26.5254ZM42.3012 28.4796C42.6678 28.4796 42.8248 28.2587 42.8248 27.9527C42.8248 27.613 42.6502 27.426 42.3012 27.426H41.3938V28.4796H42.3012Z" fill="#808080"/>
<path id="Vector_9" d="M45.2809 26.5254H47.0868L48.3744 30.3148H47.2039L46.9364 29.5332H45.398L45.1305 30.3148H43.9766L45.2809 26.5254ZM45.6655 28.6665H46.6689L46.2674 27.477H46.0668L45.6655 28.6665Z" fill="#808080"/>
<path id="Vector_10" d="M49.6328 26.5254H50.7535V29.3292H52.774L52.7231 30.3148H49.6328V26.5254Z" fill="#808080"/>
<path id="Vector_11" d="M53.4023 28.4201C53.4023 27.264 54.1414 26.5254 55.2944 26.5254C56.4474 26.5254 57.1719 27.264 57.1719 28.4201C57.1719 29.5763 56.4474 30.3148 55.2944 30.3148C54.1414 30.3148 53.4023 29.5923 53.4023 28.4201ZM56.1962 28.4201C56.1962 27.7938 55.8709 27.4407 55.2944 27.4407C54.7179 27.4407 54.3928 27.8099 54.3928 28.4201C54.3928 29.0464 54.7179 29.3995 55.2944 29.3995C55.8562 29.4156 56.1962 29.0464 56.1962 28.4201Z" fill="#808080"/>
<path id="Vector_12" d="M61.6218 26.5254H63.4178L64.7103 30.3148H63.5353L63.2668 29.5332H61.7392L61.4707 30.3148H60.3125L61.6218 26.5254ZM62.0079 28.6665H63.015L62.6121 27.477H62.4107L62.0079 28.6665Z" fill="#808080"/>
<path id="Vector_13" d="M65.3398 26.5254H66.4774V29.3292H68.4811L68.4471 30.3148H65.3398V26.5254Z" fill="#808080"/>
<path id="Vector_14" d="M70.2081 27.494H69.1094L69.1375 26.5254H72.2224L72.2506 27.494H71.1519V30.3148H70.2081V27.494Z" fill="#808080"/>
<path id="Vector_15" d="M73.5078 28.4201C73.5078 27.2479 74.235 26.5254 75.3926 26.5254C76.5501 26.5254 77.2773 27.264 77.2773 28.4201C77.2773 29.5763 76.5501 30.3148 75.3926 30.3148C74.235 30.3148 73.5078 29.5923 73.5078 28.4201ZM76.2977 28.4201C76.2977 27.7938 75.9713 27.4407 75.3926 27.4407C74.8138 27.4407 74.4873 27.8099 74.4873 28.4201C74.4873 29.0464 74.8138 29.3995 75.3926 29.3995C75.9564 29.4156 76.2977 29.0464 76.2977 28.4201Z" fill="#808080"/>
<path id="Vector_16" d="M80.4141 26.5254H81.5499L83.1301 28.6665H83.1465V26.5254H84.1836V30.3148H83.0807L81.4675 28.1057H81.4511V30.3148H80.4141V26.5254Z" fill="#808080"/>
<path id="Vector_17" d="M85.4453 26.5254H89.1023L89.1398 27.4431H86.6831V27.9527H88.6147V28.8025H86.6831V29.3802H89.2148L89.1773 30.3148H85.4453V26.5254Z" fill="#808080"/>
<path id="Vector_18" d="M91.1525 27.494H89.8398L89.8904 26.5254H93.559L93.6095 27.494H92.2968V30.3148H91.1525V27.494Z" fill="#808080"/>
<path id="Vector_19" d="M94.2383 26.5254H95.4382L96.038 29.1422H96.0881L96.8713 26.5254H97.9712L98.7378 29.1422H98.7877L99.3877 26.5254H100.521L99.5543 30.3148H98.0879L97.4046 28.0208H97.3713L96.688 30.3148H95.2215L94.2383 26.5254Z" fill="#808080"/>
<path id="Vector_20" d="M101.148 28.4201C101.148 27.264 101.997 26.5254 103.347 26.5254C104.698 26.5254 105.546 27.264 105.546 28.4201C105.546 29.5763 104.698 30.3148 103.347 30.3148C101.997 30.3148 101.148 29.5923 101.148 28.4201ZM104.403 28.4201C104.403 27.7938 104.022 27.4407 103.347 27.4407C102.672 27.4407 102.291 27.8099 102.291 28.4201C102.291 29.0464 102.672 29.3995 103.347 29.3995C104.022 29.4156 104.403 29.0464 104.403 28.4201Z" fill="#808080"/>
<path id="Vector_21" d="M106.805 26.5254H108.954C109.929 26.5254 110.409 27.0012 110.409 27.8848C110.409 28.4965 110.161 28.9044 109.698 29.0913L110.574 30.3148H109.318L108.64 29.3123H107.912V30.3148H106.805V26.5254ZM108.805 28.4286C109.169 28.4286 109.301 28.2247 109.301 27.9358C109.301 27.6469 109.169 27.4431 108.805 27.4431H107.912V28.4286H108.805Z" fill="#808080"/>
<path id="Vector_22" d="M111.203 26.5254H112.255V27.9188H112.68L113.7 26.5254H114.894L113.543 28.3437L114.973 30.2978L114.957 30.3148H113.732L112.68 28.8534H112.255V30.3148H111.203V26.5254Z" fill="#808080"/>
<path id="Vector_23" d="M116.257 29.9911V29.0078C116.813 29.314 117.369 29.4592 117.835 29.4592C118.196 29.4592 118.376 29.3624 118.376 29.1851C118.376 29.0078 118.256 28.9595 117.534 28.8305C116.753 28.7015 116.227 28.4436 116.227 27.7182C116.227 27.0413 116.783 26.5254 117.85 26.5254C118.286 26.5254 118.737 26.6221 119.142 26.8155V27.7989C118.752 27.557 118.21 27.3958 117.775 27.3958C117.399 27.3958 117.234 27.4926 117.234 27.6538C117.234 27.8633 117.474 27.8795 118.06 27.9923C118.842 28.1373 119.368 28.3792 119.368 29.1367C119.368 29.7331 118.962 30.3134 117.775 30.3134C117.203 30.3296 116.738 30.2006 116.257 29.9911Z" fill="#808080"/>
<path id="Vector_24" d="M15.2422 20.212V6.1748L22.6155 20.212H15.2422Z" fill="#54BEE4"/>
<path id="Vector_25" d="M15.2403 6.17549L7.86701 20.2127H15.2403V30.3154L0 15.1577L15.2403 0V6.17549Z" fill="#54BEE4"/>
</g>
<defs>
<clipPath id="clip0_18_346">
<rect width="120" height="30.3154" fill="white"/>
</clipPath>
</defs>
</svg>`;

  const section = block.closest('div.section');
  const wrapper = section.querySelector('.hero-search-wrapper');

  wrapper.append(html`<div class="hero-search-background"></div>`);
  wrapper.prepend(html`${ICON}`);

  renderParallax();
}
